# Intent 与 IntentFilter 详解

---

> 在前面的章节我们介绍到了 Activity、Service、BroadCastReceiver，这三者的启动、数据的传递都用到了 Intent，足以可见 Intent 在 Andorid 的重要性。Intent 这个英语单词的本意是“目的、意向、意图”。Intent 是一种运行时绑定（runtime binding)机制，它能在程序运行的过程中连接两个不同的组件。通过 Intent，你的程序可以向 Android 表达某种请求或者意愿，Android 会根据意愿的内容选择适当的组件来响应。

## 目录

-[显示](#显示)

-[隐示](#隐示)

-[匹配规则](#匹配规则)

Intent 分为两种类型，分别为显示和隐示，下面将分别介绍

## 显示

显式 Intent，可以通过类名来找到相应的组件，在应用中用显式 Intent 去启动一个组件，通常是因为我们知道这个组件（Activity、Service）的名字。如下代码，我们知道具体的 Activity 的名字，要启动一个新的 Activity，下面就是用的显示 Intent。

```
Intent intent = new Intent(context，AActivity.class);
startActivity(intent);
```

## 隐示

隐式 Intent，不指定具体的组件，但是它会声明将要执行的操作，从而匹配到相应的组件。最简单的 Android 中调用系统拨号页面准备打电话的操作，就是隐式 Intent。

```
Intent intent = new Intent(Intent.ACTION_DIAL);
Uri data = Uri.parse("tel:" + "13888888888");
intent.setData(data);
startActivity(intent);
```

使用隐式 Intent 的时候，系统通过将 Intent 对象中的 IntentFilter 与组件在 AndroidManifest.xml 或者代码中动态声明的 IntentFilter 进行比较，从而找到要启动的相应组件。如果组件的 IntentFilter 与 Intent 中的 IntentFilter 正好匹配，系统就会启动该组件，并把 Intent 传递给它。如果有多个组件同时匹配到了，系统则会弹出一个选择框，让用户选择使用哪个应用去处理这个 Intent，比如有时候点击一个网页链接，会弹出多个应用，让用户选择用哪个浏览器去打开该链接，就是这种情况。隐式 Intent 启动固定 Activity。

AndroidManifest.xml 中注册

```
<activity
    android:name=".SecondActivity">
    <intent-filter>
        <action android:name="com.madreain.intent.MY_ACTION"/>
        <category android:name="android.intent.category.DEFAULT" />
    </intent-filter>
</activity>
```

隐式 Intent 启动 Activity 代码

```
Intent intent = new Intent();
//设置动作（实际action属性就是一个字符串标记而已）
intent.setAction("com.madreain.intent.MY_ACTION");
tartActivity(intent);

```

上面隐式 Intent 启动 Activity提到了action属性，接下来来详细介绍一下Intent的相关属性

## 匹配规则

**component(组件)**
目的组件的名称，这个只有显式 Intent有，隐式Intent没有。例如：com.madreain.DemoActivity。该属性可以通过setComonentName()、setClass()、setClassName()或者Intent的构造函数来设置。

**action（动作）**
用来表现意图的行动,这个可以用户自定义也可以使用系统中自带的Action值。例如：com.madreain.intent.MY_ACTION"该属性可以通过setAction()方法或者Intent的构造函数来设置。

系统中常用的Action值：
ACTION_MAIN，标识Activity为一个程序的开始
ACTION_VIEW，当有一些信息需要展示出来
ACTION_SEND，当用户有一些信息需要分享到其他应用
Action_CALL，呼叫指定的电话号码
ACTION_DIAL，拨打电话
ACTION_EDIT，编辑某些文件
ALL_APPS，列出所有的应用
ACTION_ANSWER，处理呼入的电话


**category（类别）**
用来表现动作的类别

**data（数据）**
表示与动作要操纵的数据

**type（数据类型）**
对于data范例的描写

**extras（扩展信息）**
扩展信息

**Flags（标志位）**
期望这个意图的运行模式


