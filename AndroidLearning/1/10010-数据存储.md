# 数据存储

---

> 如今大数据的时代，数据在我们生活中扮演的角色越来越重要了，我们使用的手机产生的大量数据，很好的反应了我们的生活习惯、作息规律、兴趣爱好等。接下来我们就来小谈一下 Android 中的数据存储的五种方式。

## 目录

-[SharedPreferences](#SharedPreferences)

-[File](#File)

-[SQLite](#SQLite)

-[ContentProvider](#ContentProvider)

-[网络存储](#网络存储)

## SharedPreferences

SharedPreferences 用于保存少量、数据格式简单（字符串、基本类型）的数据，例如：App 的配置信息，锁屏密码等。保存基于 XML 文件存储的 key-value 键值对数据，通常用来存储一些简单的配置信息。通过 DDMS 的 File Explorer 面板，展开文件浏览树,很明显 SharedPreferences 数据总是存储在/data/data/<package name>/shared_prefs 目录下

Context.MODE_PRIVATE: 指定该 SharedPreferences 数据只能被本应用程序读、写。
Context.MODE_WORLD_READABLE: 指定该 SharedPreferences 数据能被其他应用程序读，但不能写。
Context.MODE_WORLD_WRITEABLE: 指定该 SharedPreferences 数据能被其他应用程序读，写

主要方法：
Editor putXXX(String key, @Nullable XXX value);//存入指定 key 的各种基本类型的数据
Editor remove(String key);//删除指定 key 的数据
Editor clear();//清空所有数据
boolean commit();//提交数据
void apply();//提交数据

注：SharedPreference 相关修改使用 apply 方法进行提交会先写入内存，然后异步写入磁盘，commit 方法是直接写入磁盘。如果频繁操作的话 apply 的性能会优于 commit，apply 会将最后修改内容写入磁盘。 但是如果希望立刻获取存储操作的结果，并据此做相应的其他操作，应当使用 commit。

存储数据：

```
//创建一个 SharedPreferences.Editor 接口对象，madreain 表示要写入的 XML 文件名，MODE_PRIVATE 读写操作
SharedPreferences.Editor editor = getSharedPreferences("madreain", MODE_PRIVATE).edit();
//将值放入文件
editor.putString("test", "存储的值");
editor.apply();
```

获取数据

```
SharedPreferences.Editor editor = getSharedPreferences("madreain", MODE_PRIVATE).edit();
String value = editor.getString("test");
```

一般这里都会封装SharedPreference的工具类，可参考[SPUtils](https://github.com/Blankj/AndroidUtilCode/blob/master/utilcode/lib/src/main/java/com/blankj/utilcode/util/SPUtils.java)

## File

## SQLite

## ContentProvider

## 网络存储
